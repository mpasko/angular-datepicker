/*!
 * Angular Datepicker v0.2.6
 *
 * Released by 720kb.net under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2015-09-17
 */


!function(a,b){"use strict";a.module("720kb.datepicker",[]).directive("uiBlur",function(){return function(a,b,c){b.bind({blur:function(){a.$apply(c.uiBlur)},keydown:function(b){(8===b.keyCode||27===b.keyCode||13===b.keyCode)&&a.$apply(c.uiBlur)}})}}),a.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate",function(c,d,e,f,g){var h=864e5,i=function(a){return b(a).format("MMMM")};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@"},link:function(b,j,k){b.dateMonthTitle=b.dateMonthTitle||"Select month",b.dateYearTitle=b.dateYearTitle||"Select year",b.buttonNextTitle=b.buttonNextTitle||"Next",b.buttonPrevTitle=b.buttonPrevTitle||"Prev";var l,m,n,o,p=k.selector,q=a.element(p?j[0].querySelector("."+p):j[0].children[0]),r='<b class="datepicker-default-button">&lsaquo;</b>',s='<b class="datepicker-default-button">&rsaquo;</b>',t=k.buttonPrev||r,u=k.buttonNext||s,v=k.dateFormat,w=new Date,x=!1,y=!1,z=e.DATETIME_FORMATS,A='<div class="_720kb-datepicker-calendar" ui-blur="hideCalendar()"><div class="_720kb-datepicker-calendar-header" ng-hide="isMobile()"><div class="_720kb-datepicker-calendar-header-left"><a href="javascript:void(0)" ng-click="prevMonth()" title="{{buttonPrevTitle}}" tabindex=-1>'+t+'</a></div><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">{{month}} <a href="javascript:void(0)" ng-click="showYearsPagination = !showYearsPagination" tabindex=-1><span>{{year}} <i ng-if="!showYearsPagination">&dtrif;</i> <i ng-if="showYearsPagination">&utrif;</i> </span> </a></div><div class="_720kb-datepicker-calendar-header-right"><a href="javascript:void(0)" ng-click="nextMonth()" title="{{buttonNextTitle}}" tabindex=-1>'+u+'</a></div></div><div class="_720kb-datepicker-calendar-header" ng-show="isMobile()"><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month"><select ng-model="month" title="{{dateMonthTitle}}" ng-change="selectedMonthHandle(month)"><option ng-repeat="item in months" ng-selected="month === item" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="item">{{item}}</option></select></div></div><div class="_720kb-datepicker-calendar-header" ng-show="isMobile()"><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month"><select ng-model="mobileYear" title="{{dateYearTitle}}" ng-change="setNewYear(mobileYear)"><option ng-repeat="item in paginationYears" ng-selected="year === item" ng-value="item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)">{{item}}</option></select></div></div><div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination"><div class="_720kb-datepicker-calendar-years-pagination"><a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears" tabindex=-1>{{y}}</a></div><div class="_720kb-datepicker-calendar-years-pagination-pages"><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}" tabindex=-1>'+t+'</a><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}" tabindex=-1>'+u+'</a></div></div><div class="_720kb-datepicker-calendar-days-header"><div ng-repeat="d in daysInString"> {{d}} </div> </div><div class="_720kb-datepicker-calendar-body"><a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled" tabindex=-1>{{px}}</a><a href="javascript:void(0)" ng-repeat="item in days" ng-click="setDatepickerDay(item)" ng-class="{\'_720kb-datepicker-active\': day === item, \'_720kb-datepicker-disabled\': !isSelectableMinDate(year + \'/\' + monthNumber + \'/\' + item ) || !isSelectableMaxDate(year + \'/\' + monthNumber + \'/\' + item)}" class="_720kb-datepicker-calendar-day" tabindex=-1>{{item}}</a><a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled" tabindex=-1>{{nx}}</a></div></div></div>';A=A.replace(/{{/g,g.startSymbol()).replace(/}}/g,g.endSymbol()),b.$watch("dateSet",function(a){a&&(w=new Date(a),b.month=i(w),b.monthNumber=Number(f("date")(w,"MM")),b.day=Number(f("date")(w,"dd")),b.year=Number(f("date")(w,"yyyy")),b.setDaysInMonth(b.monthNumber,b.year),b.setInputValue())}),b.$watch("dateMinLimit",function(a){a&&(m=a)}),b.$watch("dateMaxLimit",function(a){a&&(n=a)}),b.month=i(w),b.monthNumber=Number(f("date")(w,"MM")),b.day=Number(f("date")(w,"dd")),b.dateMaxLimit?b.year=Number(f("date")(new Date(b.dateMaxLimit),"yyyy")):b.year=Number(f("date")(w,"yyyy")),b.months=z.MONTH,b.daysInString=["0","1","2","3","4","5","6"].map(function(a){return f("date")(new Date(new Date("06/08/2014").valueOf()+h*a),"EEE")}),q.after(d(a.element(A))(b)),l=j[0].querySelector("._720kb-datepicker-calendar"),q.bind("focus click",function(){y=!0,b.showCalendar()}),q.bind("focusout blur",function(){y=!1,b.hideCalendar()}),a.element(l).bind("mouseenter",function(){x=!0}),a.element(l).bind("mouseleave",function(){x=!1}),a.element(l).bind("focusin",function(){x=!0}),a.element(c).bind("click focus",function(){x||y||!l||b.hideCalendar()}),b.isMobile=function(){return navigator.userAgent&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))?!0:void 0},b.resetToMinDate=function(){b.month=i(new Date(m)),b.monthNumber=Number(f("date")(new Date(m),"MM")),b.day=Number(f("date")(new Date(m),"dd")),b.year=Number(f("date")(new Date(m),"yyyy"))},b.resetToMaxDate=function(){b.month=i(new Date(n)),b.monthNumber=Number(f("date")(new Date(n),"MM")),b.day=Number(f("date")(new Date(n),"dd")),b.year=Number(f("date")(new Date(n),"yyyy"))},b.nextMonth=function(){12===b.monthNumber?(b.monthNumber=1,b.nextYear()):b.monthNumber+=1,b.month=i(new Date(b.year,b.monthNumber-1)),b.setDaysInMonth(b.monthNumber,b.year),n&&(b.isSelectableMaxDate(b.year+"/"+b.monthNumber+"/"+b.day)||b.resetToMaxDate()),b.day=void 0},b.selectedMonthHandle=function(a){b.monthNumber=Number(f("date")(new Date("01 "+a+" 2000"),"MM")),b.setDaysInMonth(b.monthNumber,b.year),b.setInputValue()},b.prevMonth=function(){1===b.monthNumber?(b.monthNumber=12,b.prevYear()):b.monthNumber-=1,b.month=i(new Date(b.year,b.monthNumber-1)),b.setDaysInMonth(b.monthNumber,b.year),m&&(b.isSelectableMinDate(b.year+"/"+b.monthNumber+"/"+b.day)||b.resetToMinDate()),b.day=void 0},b.setNewYear=function(a){if(b.day=void 0,n&&b.year<Number(a)){if(!b.isSelectableMaxYear(a))return}else if(m&&b.year>Number(a)&&!b.isSelectableMinYear(a))return;b.year=Number(a),b.setDaysInMonth(b.monthNumber,b.year),b.paginateYears(a)},b.nextYear=function(){b.year=Number(b.year)+1},b.prevYear=function(){b.year=Number(b.year)-1},b.setInputValue=function(){if(!b.isSelectableMinDate(b.year+"/"+b.monthNumber+"/"+b.day)||!b.isSelectableMaxDate(b.year+"/"+b.monthNumber+"/"+b.day))return!1;var a=new Date(b.year+"/"+b.monthNumber+"/"+b.day);k.dateFormat?q.val(f("date")(a,v)):q.val(a),q.triggerHandler("input"),q.triggerHandler("change")},b.classHelper={add:function(a,b){if(!(a.className.indexOf(b)>-1)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},remove:function(a,b){var c,d;if(-1!==a.className.indexOf(b)){for(d=a.className.split(" "),c=0;c<d.length;c+=1)if(d[c]===b){d=d.slice(0,c).concat(d.slice(c+1));break}a.className=d.join(" ")}}},b.showCalendar=function(){o=c.document.getElementsByClassName("_720kb-datepicker-calendar"),a.forEach(o,function(a,c){o[c].classList?o[c].classList.remove("_720kb-datepicker-open"):b.classHelper.remove(o[c],"_720kb-datepicker-open")}),l.classList?l.classList.add("_720kb-datepicker-open"):b.classHelper.add(l,"_720kb-datepicker-open")},b.hideCalendar=function(){l.classList?l.classList.remove("_720kb-datepicker-open"):b.classHelper.remove(l,"_720kb-datepicker-open")},b.setDaysInMonth=function(a,c){var d,e,f,g,h=new Date(c,a,0).getDate(),i=new Date(c+"/"+a+"/1").getDay(),j=new Date(c+"/"+a+"/"+h).getDay(),k=[],l=[];for(b.days=[],d=1;h>=d;d+=1)b.days.push(d);if(0!==i){for(f=i,g=1===Number(a)?12:a-1,d=1;d<=new Date(c,g,0).getDate();d+=1)k.push(d);b.prevMonthDays=k.slice(-f)}else b.prevMonthDays=[];if(6>j){for(e=6-j,d=1;e>=d;d+=1)l.push(d);b.nextMonthDays=l}else b.nextMonthDays=[]},b.setDatepickerDay=function(a){b.day=Number(a),b.setInputValue(),b.hideCalendar()},b.paginateYears=function(a){b.paginationYears=[];var c,d=[],e=10,f=10;for(b.isMobile()&&(e=50,f=50,b.dateMinLimit&&b.dateMaxLimit&&(a=new Date(b.dateMaxLimit).getFullYear(),e=a-new Date(b.dateMinLimit).getFullYear(),f=1)),c=e;c>0;c-=1)d.push(Number(a)-c);for(c=0;f>c;c+=1)d.push(Number(a)+c);n&&d&&d.length&&!b.isSelectableMaxYear(Number(d[d.length-1])+1)?b.paginationYearsNextDisabled=!0:b.paginationYearsNextDisabled=!1,m&&d&&d.length&&!b.isSelectableMinYear(Number(d[0])-1)?b.paginationYearsPrevDisabled=!0:b.paginationYearsPrevDisabled=!1,b.paginationYears=d},b.isSelectableMinDate=function(a){return m&&new Date(m)&&new Date(a).getTime()<new Date(m).getTime()?!1:!0},b.isSelectableMaxDate=function(a){return n&&new Date(n)&&new Date(a).getTime()>new Date(n).getTime()?!1:!0},b.isSelectableMaxYear=function(a){return n&&a>new Date(n).getFullYear()?!1:!0},b.isSelectableMinYear=function(a){return m&&a<new Date(m).getFullYear()?!1:!0},m&&!b.isSelectableMinYear(b.year)&&b.resetToMinDate(),n&&!b.isSelectableMaxYear(b.year)&&b.resetToMaxDate(),b.paginateYears(b.year),b.setDaysInMonth(b.monthNumber,b.year)}}}])}(angular,moment);
//# sourceMappingURL=angular-datepicker.sourcemap.map